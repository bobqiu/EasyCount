[system]
sql=INSERT INTO t_trc_inf_call_1_min SELECT from_unixtime(AGGRTIME DIV 1000, 'yyyyMMddHHmm'),vAppid,vCmdid,iResult,count(1),avg(dProcessTime) \
FROM Msdk_server_Log_Route WHERE length(vAppid)<50 AND ((vAppid like "wx%") OR (vAppid regexp "^[0-9]+$")) \
GROUP BY vAppid,vCmdid,iResult COORDINATE BY unix_timestamp(dtEventTime, 'yyyy-MM-dd HH:mm:ss')*1000 WITH AGGR INTERVAL 60 SECONDS, \
\
INSERT INTO t_trc_spp_call_1_min SELECT from_unixtime(AGGRTIME DIV 1000, 'yyyyMMddHHmm'),vAppid,iCmd,iResult,count(1),avg(dProcessTime) \
FROM Msdk_server_Log_Spp WHERE length(vAppid)<50 AND ((vAppid like "wx%") OR (vAppid regexp "^[0-9]+$")) GROUP BY vAppid,iCmd,iResult \
COORDINATE BY unix_timestamp(dtEventTime, 'yyyy-MM-dd HH:mm:ss')*1000 WITH AGGR INTERVAL 60 SECONDS, \
\
INSERT INTO t_trc_inf_call_10_min SELECT from_unixtime(AGGRTIME DIV 1000, 'yyyyMMddHHmm'),vAppid,vCmdid,iResult,count(1),avg(dProcessTime) \
FROM Msdk_server_Log_Route WHERE length(vAppid)<50 AND ((vAppid like "wx%") OR (vAppid regexp "^[0-9]+$")) GROUP BY vAppid,vCmdid,iResult \
COORDINATE BY unix_timestamp(dtEventTime, 'yyyy-MM-dd HH:mm:ss')*1000 WITH AGGR INTERVAL 600 SECONDS, \
\
INSERT INTO t_trc_spp_call_10_min SELECT from_unixtime(AGGRTIME DIV 1000, 'yyyyMMddHHmm'),vAppid,iCmd,iResult,count(1),avg(dProcessTime) \
FROM Msdk_server_Log_Spp WHERE length(vAppid)<50 AND ((vAppid like "wx%") OR (vAppid regexp "^[0-9]+$")) GROUP BY vAppid,iCmd,iResult \
COORDINATE BY unix_timestamp(dtEventTime, 'yyyy-MM-dd HH:mm:ss')*1000 WITH AGGR INTERVAL 600 SECONDS


[tabledesc-1]
table.name=Msdk_server_Log_Route
table.type=stream
table.fields=ip,string,:interfaceName,string,:iEventId,bigint,:vVersion,string,:vFromIp,string,:vLocalIp,string,:iRequestType,int,:vAppid,string,:vOpenid,string,:vCmdid,string,:vL5_ip_port,string,:iPermission,int,:iResult,int,:dProcessTime,double,:vErrorMsg,string,:dtEventTime,string,:vUrl,string
table.zk.servers=tl-zk-td1:2181,tl-zk-td2:2181,tl-zk-td3:2181,tl-zk-td4:2181,tl-zk-td5:2181
table.zk.root=/meta_vip
table.topic=hy_msdk
table.interfaceId=Route
table.field.splitter=0x9

[tabledesc-2]
table.name=t_trc_inf_call_1_min
table.type=mysql
table.fields=statDate,bigint,:appId,string,:serviceId,int,:reCode,int,:callCount,int,:avgTime,double,

table.mysql.db.host=10.148.148.98
table.mysql.db.port=3323
table.mysql.db.name=TRC_Async
table.mysql.db.username=msdk
table.mysql.db.passwd=msdk@2013

[tabledesc-3]
table.name=Msdk_server_Log_Spp
table.type=stream
table.fields=ip,string,:interfaceName,string,:iFlow,bigint,:iSeq,bigint,:iCmd,int,:vClient_ip,string,:dProcessTime,int,:vServer_ip,string,:dtEventTime,string,:vAppid,string,:vOpenid,string,:vRecvMsg,string,:iResult,int,:vSendMsg,string,:iPlatCode,int
table.zk.servers=tl-zk-td1:2181,tl-zk-td2:2181,tl-zk-td3:2181,tl-zk-td4:2181,tl-zk-td5:2181
table.zk.root=/meta_vip
table.topic=hy_msdk
table.interfaceId=spp_server
table.field.splitter=0x9

[tabledesc-4]
table.name=t_trc_spp_call_1_min
table.type=mysql
table.fields=statDate,bigint,:appId,string,:serviceId,int,:reCode,int,:callCount,int,:avgTime,double,

table.mysql.db.host=10.148.148.98
table.mysql.db.port=3323
table.mysql.db.name=TRC_Async
table.mysql.db.username=msdk
table.mysql.db.passwd=msdk@2013


[tabledesc-5]
table.name=t_trc_inf_call_10_min
table.type=mysql
table.fields=statDate,bigint,:appId,string,:serviceId,int,:reCode,int,:callCount,int,:avgTime,double,

table.mysql.db.host=10.148.148.98
table.mysql.db.port=3323
table.mysql.db.name=TRC_Async
table.mysql.db.username=msdk
table.mysql.db.passwd=msdk@2013

[tabledesc-6]
table.name=t_trc_spp_call_10_min
table.type=mysql
table.fields=statDate,bigint,:appId,string,:serviceId,int,:reCode,int,:callCount,int,:avgTime,double,

table.mysql.db.host=10.148.148.98
table.mysql.db.port=3323
table.mysql.db.name=TRC_Async
table.mysql.db.username=msdk
table.mysql.db.passwd=msdk@2013

