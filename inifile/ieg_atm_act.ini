[system]

sql=INSERT INTO atm_act_rt SELECT iActivityId, count(1) pv, countd_hllp(uiUin ACCU) huv, countd_hllp(uiUin SW) 5muv, \
from_unixtime(AGGRTIME DIV 1000, "yyyy-MM-dd HH:mm:ss") FROM atm_rt_dsl_ame_act_fht0 GROUP BY iActivityId \
COORDINATE BY unix_timestamp(dtEventTime, 'yyyy-MM-dd HH:mm:ss')*1000 WITH AGGR INTERVAL 60 SECONDS WITH ACCU INTERVAL 3600 SECONDS WITH SW INTERVAL 300 SECONDS  

[tabledesc-1]
table.name=atm_rt_dsl_ame_act_fht0
table.fields=startMark,string,:sourceID,int,:iLogType,int,:sCModuleType,string,:sCModuleID,string,:sCInterfaceID,string,:sCReturnCode,string,:sAModuleID,string,:sAInterfaceID,string,:sAReturnCode,string,:sAReturnInfo,string,:dtevetTime,string,:uiEventId,bigint,:iActivityId,int,:iFlowID,int,:uiUin,string,:requestState,int,:returnCode,string,:returnInfo,string,:iChangeFlag,int,:sProductName,string,:sArea,string,:sRoleName,string,:iPackageChanel,int,:iQualified,int,:dtValidTime,string,:sSerialNumber,string,:sRules,string,:sConditionRules,string,:sActionRule,string,:sQualificationState,string,:sQualificationRules,string,:sPublishQualificationID,string,:sPublishQualificationState,string,
table.tube.master=tl-vip-tube-master
table.tube.port=8609
splitter=|
table.topic=ieg_atm_rt
table.interfaceId=ame_act
table.field.splitter=|

[tabledesc-destination]
table.type=tpg
table.name=atm_act_rt
table.fields=iActivityId,int,:pv,bigint,:huv,bigint,:5muv,bigint,:dtEventTime,string
table.tpg.db.host=ieg-bi-tdw.tencent-distribute.com
table.tpg.db.port=5432
table.tpg.db.name=ring_act_rt_pre
table.tpg.db.username=tdw_scottzhu
table.tpg.db.passwd=tdw_scottzhu

